{% load static %}

<!DOCTYPE html>
<html lang="fr">
    <head>
        {% load pwa %}
        {% progressive_web_app_meta %}
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="{% static 'css/qstockapp/reset.css' %}">
        <link rel="stylesheet" href="{% static 'css/qstockapp/base.css' %}">
        <script src="{% static 'js/qstockapp/loader.js' %}" defer></script>
        <script src="{% static 'js/quickstockapp/current_tab.js' %}" defer></script>
        {% block head %}
        <title>{% if company_name %} {{ company_name }} {% else %} QuickStock {% endif %}</title>
        {% endblock %}
        <style>
            body {
                padding: 0;
                margin: 0;
            }
            li {
                list-style: none;
            }
            
            h1 {
                font-size: 25px;
            }
            .menu ul {

                padding: 0;
            }
            {% block extra_styles %}
            {% endblock %}
        </style>
    </head>
    <body>
        <div class="theme_color" style="display: none;">{{ current_store.accent_color_code }}</div>
        <div class="loader"></div>
        <main>
            <div class="sidebar">
                <div class="app_name">
                    <h1>Administration</h1>
                </div>
                <div class="sidebar-content">
                    <input type="hidden" id="current_tab" value="{{ current_tab }}">
                    <div class="menu">
                        <ul>
                            <li>
                                <a href="#">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M11.4 3.59998V8.39998H3.60001V7.19998C3.60001 6.2452 3.97929 5.32952 4.65442 4.65439C5.32955 3.97926 6.24523 3.59998 7.20001 3.59998H11.4ZM12.6 3.59998V14.4H20.4V7.19998C20.4 6.2452 20.0207 5.32952 19.3456 4.65439C18.6705 3.97926 17.7548 3.59998 16.8 3.59998H12.6ZM20.4 15.6H12.6V20.4H16.8C17.7548 20.4 18.6705 20.0207 19.3456 19.3456C20.0207 18.6704 20.4 17.7548 20.4 16.8V15.6ZM11.4 20.4V9.59998H3.60001V16.8C3.60001 17.7548 3.97929 18.6704 4.65442 19.3456C5.32955 20.0207 6.24523 20.4 7.20001 20.4H11.4Z" fill="black"/>
                                    </svg>
                                    Vue d'ensemble
                                </a>
                            </li>
                            <li>
                                
                                <a href="{% url 'accounts:user_list' %}">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8 7C8 5.93913 8.42143 4.92172 9.17157 4.17157C9.92172 3.42143 10.9391 3 12 3C13.0609 3 14.0783 3.42143 14.8284 4.17157C15.5786 4.92172 16 5.93913 16 7C16 8.06087 15.5786 9.07828 14.8284 9.82843C14.0783 10.5786 13.0609 11 12 11C10.9391 11 9.92172 10.5786 9.17157 9.82843C8.42143 9.07828 8 8.06087 8 7ZM8 13C6.67392 13 5.40215 13.5268 4.46447 14.4645C3.52678 15.4021 3 16.6739 3 18C3 18.7956 3.31607 19.5587 3.87868 20.1213C4.44129 20.6839 5.20435 21 6 21H18C18.7956 21 19.5587 20.6839 20.1213 20.1213C20.6839 19.5587 21 18.7956 21 18C21 16.6739 20.4732 15.4021 19.5355 14.4645C18.5979 13.5268 17.3261 13 16 13H8Z" fill="white"/>
                                    </svg>
                                    Utilisateurs</a>
                            </li>
                            <li>
                                <a href="{% url 'accounts:group_list' %}">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M17 17C17.4167 17 17.771 16.8543 18.063 16.563C18.355 16.2717 18.5007 15.9173 18.5 15.5C18.4993 15.0827 18.3537 14.7287 18.063 14.438C17.7723 14.1473 17.418 14.0013 17 14C16.582 13.9987 16.228 14.1447 15.938 14.438C15.648 14.7313 15.502 15.0853 15.5 15.5C15.498 15.9147 15.644 16.269 15.938 16.563C16.232 16.857 16.586 17.0027 17 17ZM17 20C17.5167 20 17.9917 19.879 18.425 19.637C18.8583 19.395 19.2083 19.0743 19.475 18.675C19.1083 18.4583 18.7167 18.2917 18.3 18.175C17.8833 18.0583 17.45 18 17 18C16.55 18 16.1167 18.0583 15.7 18.175C15.2833 18.2917 14.8917 18.4583 14.525 18.675C14.7917 19.075 15.1417 19.396 15.575 19.638C16.0083 19.88 16.4833 20.0007 17 20ZM17 22C15.6167 22 14.4377 21.5123 13.463 20.537C12.4883 19.5617 12.0007 18.3827 12 17C11.9993 15.6173 12.487 14.4383 13.463 13.463C14.439 12.4877 15.618 12 17 12C18.382 12 19.5613 12.4877 20.538 13.463C21.5147 14.4383 22.002 15.6173 22 17C21.998 18.3827 21.5103 19.562 20.537 20.538C19.5637 21.514 18.3847 22.0013 17 22ZM12 22C9.68333 21.4167 7.77067 20.0873 6.262 18.012C4.75333 15.9367 3.99933 13.6327 4 11.1V5L12 2L20 5V10.675C19.5667 10.4583 19.079 10.2917 18.537 10.175C17.995 10.0583 17.4827 10 17 10C15.0667 10 13.4167 10.6833 12.05 12.05C10.6833 13.4167 10 15.0667 10 17C10 18.0333 10.196 18.9667 10.588 19.8C10.98 20.6333 11.4757 21.3583 12.075 21.975C12.0583 21.975 12.046 21.9793 12.038 21.988C12.03 21.9967 12.0173 22.0007 12 22Z" fill="black"/>
                                    </svg>
                                    Groupes & Accès  
                                </a>                                  
                            </li>
                            <li>
                                <a href="{% url 'accounts:action_logs' %}">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M17 12C14.24 12 12 14.24 12 17C12 19.76 14.24 22 17 22C19.76 22 22 19.76 22 17C22 14.24 19.76 12 17 12ZM18.65 19.35L16.5 17.2V14H17.5V16.79L19.35 18.64L18.65 19.35ZM18 3H14.82C14.4 1.84 13.3 1 12 1C10.7 1 9.6 1.84 9.18 3H6C4.9 3 4 3.9 4 5V20C4 21.1 4.9 22 6 22H12.11C11.5184 21.4258 11.0371 20.7479 10.69 20H6V5H8V8H16V5H18V10.08C18.71 10.18 19.38 10.39 20 10.68V5C20 3.9 19.1 3 18 3ZM12 5C11.45 5 11 4.55 11 4C11 3.45 11.45 3 12 3C12.55 3 13 3.45 13 4C13 4.55 12.55 5 12 5Z" fill="black"/>
                                    </svg>
                                    Actions Utilisateur</a>
                            </li>
                        </ul>
                    </div>
                    <div class="bottom">
                        <ul>
                            <li>
                                <a href="{% url 'home' %}">
                                    Revenir à l'app
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 3.25C12.1989 3.25 12.3897 3.32902 12.5303 3.46967C12.671 3.61032 12.75 3.80109 12.75 4C12.75 4.19891 12.671 4.38968 12.5303 4.53033C12.3897 4.67098 12.1989 4.75 12 4.75C10.0772 4.75 8.23311 5.51384 6.87348 6.87348C5.51384 8.23311 4.75 10.0772 4.75 12C4.75 13.9228 5.51384 15.7669 6.87348 17.1265C8.23311 18.4862 10.0772 19.25 12 19.25C12.1989 19.25 12.3897 19.329 12.5303 19.4697C12.671 19.6103 12.75 19.8011 12.75 20C12.75 20.1989 12.671 20.3897 12.5303 20.5303C12.3897 20.671 12.1989 20.75 12 20.75C9.67936 20.75 7.45376 19.8281 5.81282 18.1872C4.17187 16.5462 3.25 14.3206 3.25 12C3.25 9.67936 4.17187 7.45376 5.81282 5.81282C7.45376 4.17187 9.67936 3.25 12 3.25Z" fill="black"/>
                                        <path d="M16.47 9.52997C16.3375 9.38779 16.2654 9.19975 16.2688 9.00545C16.2723 8.81115 16.351 8.62576 16.4884 8.48835C16.6258 8.35093 16.8112 8.27222 17.0055 8.26879C17.1998 8.26537 17.3878 8.33749 17.53 8.46997L20.53 11.47C20.6705 11.6106 20.7493 11.8012 20.7493 12C20.7493 12.1987 20.6705 12.3893 20.53 12.53L17.53 15.53C17.4613 15.6037 17.3785 15.6628 17.2865 15.7038C17.1945 15.7447 17.0952 15.7668 16.9945 15.7686C16.8938 15.7703 16.7938 15.7518 16.7004 15.7141C16.607 15.6764 16.5222 15.6202 16.451 15.549C16.3797 15.4778 16.3236 15.393 16.2859 15.2996C16.2482 15.2062 16.2296 15.1061 16.2314 15.0054C16.2332 14.9047 16.2552 14.8054 16.2962 14.7134C16.3372 14.6214 16.3963 14.5386 16.47 14.47L18.19 12.75H10C9.80109 12.75 9.61032 12.671 9.46967 12.5303C9.32902 12.3896 9.25 12.1989 9.25 12C9.25 11.8011 9.32902 11.6103 9.46967 11.4696C9.61032 11.329 9.80109 11.25 10 11.25H18.19L16.47 9.52997Z" fill="black"/>
                                    </svg>
                                </a>
                            </li>
                            <li>
                                <a href="{% url 'accounts:logout' %}">
                                    Deconnexion
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="container">
                <header>
                    <div class="title">
                        <h2>
                            {{ page_title }}
                        </h2>
                    </div>
                    <div>
                        <span title="Connecté" class="user">
                            {% if user.fullname != None %}
                                {{ user.fullname|title }}
                            {% else %}
                                {{ user.username }}
                            {% endif %}
                        </span>
                    </div>
                </header>
                <div class="body_content">
                    {% block body %} {% endblock %}
                </div>
            </div>
        </main>
        <div class="messages">
            {% for message in messages %}
                <p {% if message.tags %} class="{{ message.tags }}"{% endif %} > {{ message }}</p>
            {% endfor %}
            {% block extra_messages %}
            {% endblock %}
        </div>
    </body>
</html>
